# Система адміністрування клієнтів сервісу по ремонту автомобілів

UML діаграма сценарію роботи клієнтської частини

!theme mars

@startuml

left to right direction
actor "Клієнт"
actor "Сервер"

Клієнт --> (Запис на послугу)
Клієнт --> (Пошук послуг сервісу)
Клієнт --> (Перегляд інформації про послугу)
Клієнт --> (Оновлення запису на послугу)
Клієнт --> (Перегляд відгуків про послугу)
Клієнт --> (Додавання відгуків про послугу)
Клієнт --> (Оцінка якості послуги)
Клієнт --> (Бонусна система)
Клієнт --> (Скасування запису на послугу)

(Запис на послугу) --> Сервер
(Пошук послуг сервісу) --> Сервер
(Перегляд інформації про послугу) --> Сервер
(Оновлення запису на послугу) --> Сервер
(Додавання відгуків про послугу) --> Сервер
(Перегляд відгуків про послугу) --> Сервер
(Оцінка якості послуги) --> Сервер
(Бонусна система) --> Сервер
(Скасування запису на послугу) --> Сервер

@enduml


UML діаграма сценарію роботи серверної частини

!theme mars
@startuml
left to right direction
actor "Сервер" as Server

package "Передача даних до клієнта" {
    (Інформація про послугу)
    (Інформація про відгук до послуги)
    (Інформація про запис на послугу)
    (Інформація про бонусну систему)
    (Інформація про скасування\nзапису на послугу)
}

package "Сервер" {
    (Обробка запиту)
    (Перевірка правильного\nприйнятого пакету)
    (Декодування команди \nприйнятої від клієнта)
}

package "База даних" {
	(Запис на послугу)
	(Пошук послуг сервісу)
	(Перегляд інформації про послугу)
	(Оновлення запису на послугу)
	(Додавання відгуків про послугу)
	(Перегляд відгуків про послугу)
	(Оцінка якості послуги)
	(Скасування запису на послугу)
	(Бонусна система)
}

Server --> (Обробка запиту)
Server --> (Інформація про послугу)
Server --> (Інформація про відгук до послуги)
Server --> (Інформація про запис на послугу)
Server --> (Інформація про бонусну систему)
Server --> (Інформація про скасування\nзапису на послугу)

(Обробка запиту) --> (Декодування команди \nприйнятої від клієнта)
(Обробка запиту) --> (Перевірка правильного\nприйнятого пакету)
(Перевірка правильного\nприйнятого пакету) --> (Обробка запиту)

(Декодування команди \nприйнятої від клієнта) --> (Запис на послугу)
(Декодування команди \nприйнятої від клієнта) --> (Пошук послуг сервісу)
(Декодування команди \nприйнятої від клієнта) --> (Перегляд інформації про послугу)
(Декодування команди \nприйнятої від клієнта) --> (Оновлення запису на послугу)
(Декодування команди \nприйнятої від клієнта) --> (Додавання відгуків про послугу)
(Декодування команди \nприйнятої від клієнта) --> (Перегляд відгуків про послугу)
(Декодування команди \nприйнятої від клієнта) --> (Оцінка якості послуги)
(Декодування команди \nприйнятої від клієнта) --> (Бонусна система)
(Декодування команди \nприйнятої від клієнта) --> (Скасування запису на послугу)

@enduml




Клієнтська частина процес запису на послугу

!theme mars
@startuml
start
:Початок запису на послугу;
repeat :Вибір послуги для запису;
:Введення часу запису;
:Введення імені клієнта;
:Введення номеру телефону клієнта;
:Введення бажаної послуги;
:Запит на сервер>
backward:Повідомлення про\nпомилку при записі;
repeat while (Виникла помилка?) is (Ні) not (Так)
:Запис успішний;
stop
@enduml


Клієнтська частина процес перегляд послуг сервісу

!theme mars
@startuml
start
:Запит на сервер для\nотримання послуг сервісу;
if (Відповідь отримано?) then (Так)
    :Надсилання переліку\nпослуг користувачеві;
else (Ні)
    :Відправлення користувачеві\nпомилки;
endif
stop
@enduml


Клієнтська частина процес перегляду інформації про послугу

!theme mars
@startuml
start
repeat :Вибір послуги для перегляду інформації;
:Запит на сервер>
backward:Повідомлення про\nпомилку при записі;
repeat while (Виникла помилка?) is (Так) not (Ні)
:Відображення інформації про послугу;
stop
@enduml


Клієнтська частина процес оновлення даних запису 

!theme mars
@startuml
start
:Вибір запису для модифікування;
:Ввід часу запису;
:Ввід бажаної послуги;
:Запит на сервер для\nотримання послуг салону;
if (Відповідь отримано?) then (Так)
    :Надсилання переліку\nпослуг користувачеві;
else (Ні)
    :Відправлення користувачеві\nпомилки;
endif
stop
@enduml


Клієнтська частина перевірки відгуків про послугу 

!theme mars
@startuml
start
:Вибір послуги;
:Запит на сервер для\nотримання відгуків до послуги;
if (Відповідь отримано?) then (Так)
    :Відображення відгуків;
else (Ні)
    :Відправлення клієнту помилки;
endif
stop
@enduml


Серверна частина процес додавання відгуку

!theme mars
@startuml
start
:Отримання даних;<

if (Дані валідні?) then (Так)
	:Запис відгуку в БД;
else (Ні)
	:Помилка валідації даних;
endif

stop
@enduml


Серверна частина процес оцінки послуги

!theme mars
@startuml
start
:Отримання даних;<

if (Дані валідні?) then (Так)
	:Запис оцінки в БД;
	:Обчислення нової середньої оцінки;
	:Запис середньої оцінки в БД;
else (Ні)
	:Помилка валідації даних;
endif

stop
@enduml


Серверна частина процес скасування запису на послугу

!theme mars
@startuml
start
:Отримання даних;<

if (Дані валідні?) then (Так)
	if (Запис існує?) then (Так)
		:Видалення запису з БД;
	else (Ні)
		:Помилка -- запису не існує;
	endif
else (Ні)
	:Помилка валідації даних;
endif

stop
@enduml


Серверна частина процес  запису на послугу

!theme mars
@startuml
start
:Отримання даних;<

if (Дані валідні?) then (Так)
	fork
		:Додавання часу запису в БД;
	fork again
		:Додавання імені клієнта в БД;
	fork again
		:Додавання номеру телефону клієнта в БД;
	fork again
		:Додавання бажаної послуги в БД;
	end fork
else (Ні)
	:Помилка валідації даних;
endif

stop
@enduml



Серверна частина процес перегляд послуг сервісу

!theme mars
@startuml
start
:Отримання запиту;<

:Запит до БД для отримання всіх послуг;

if (Дані отримано?) then (Так)
	:Повернення даних клієнту;
else (Ні)
	:Помилка валідації даних;
endif

stop
@enduml


Клієнтська частина перевірки балів з бонусної програми для користувача 

!theme mars
@startuml
start
:Вибір користувача;
if (Користувач існує?) then (Так)
	:Запит на сервер для\nотримання балів з бонусної програми для користувача;
	:Вивід доступних балів;
else (Ні)
	:Помилка -- користувач не існує;
endif

stop
@enduml


Клієнтська частина завершення запису 

!theme mars
@startuml
start
:Вибір запису;
if (Запис існує?) then (Так)
	:Запит на сервер для\n відмітки про завершення запису;
	:Введення кількості балів;
	:Запит на сервер для\n нарахування балів користувачу;
else (Ні)
	:Помилка -- користувач не існує;
endif

stop
@enduml

